/*! nice Validator 0.7.0
 * (c) 2012-2014 Jony Zhang <zj86@live.cn>, MIT Licensed
 * http://niceue.com/validator/
 */
(function(E,n){var J="validator",z="."+J,j=".rule",F=".field",T=".form",P="nice-"+J,D="n-ok",a="n-error",b="n-tip",O="n-loading",g="msg-box",aa="aria-required",t="aria-invalid",i="data-rule",q="data-msg",I="data-tip",Q="data-ok",V="data-target",H="data-inputstatus",m="novalidate",k=":verifiable",N=/(!?)\s?(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?\s*(;|\||&)?/g,C=/(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?/,u=/(?:([^:;\(\[]*):)?(.*)/,e=/[^\x00-\xff]/g,h=/^.*(top|right|bottom|left).*$/,ab=/(?:(post|get):)?(.+)/i,K=/<|>/g,W=E.noop,R=E.proxy,s=E.isFunction,y=E.isArray,l=function(ac){return typeof ac==="string"},M=function(ac){return ac&&Object.prototype.toString.call(ac)==="[object Object]"},Z=!window.XMLHttpRequest,r=function(ad,ac,ae){if(ae!==n){if(ae===null){ad.removeAttribute(ac)}else{ad.setAttribute(ac,""+ae)}}else{return ad.getAttribute(ac)}},x=window.console||{log:W,info:W},U,G={debug:0,timely:1,theme:"default",ignore:"",focusInvalid:true,beforeSubmit:W,validClass:"n-valid",invalidClass:"n-invalid",msgWrapper:"span",msgMaker:function(ae){var ad,ac={error:a,ok:D,tip:b,loading:O}[ae.type];ad='<span class="msg-wrap '+ac+'" role="alert">';ad+=ae.arrow+ae.icon+'<span class="n-msg">'+ae.msg+"</span>";ad+="</span>";return ad},msgIcon:'<span class="n-icon"></span>',msgArrow:"",msgClass:"",defaultMsg:"{0} is not valid.",loadingMsg:"Validating..."},d={"default":{formClass:"n-default",msgClass:"n-right",showOk:""}};E.fn[J]=function(ad){var ae=this,ac=arguments;if(ae.is(":input")){return ae}!ae.is("form")&&(ae=this.find("form"));!ae.length&&(ae=this);ae.each(function(){var af=E(this).data(J);if(af){if(l(ad)){if(ad.charAt(0)==="_"){return}af[ad].apply(af,Array.prototype.slice.call(ac,1))}else{if(ad){af._reset(true);af._init(this,ad)}}}else{new p(this,ad)}});return this};E.fn.isValid=function(ag,af){var ad=L(this[0]),ae=s(ag),ac;if(!ad){return true}ad.checkOnly=af===n||af;ac=ad._multiValidate(this.is(":input")?this:this.find(k),function(ah){ae&&ag.call(null,ah);ad.checkOnly=false});return ae?this:ac};E.expr[":"].verifiable=function(ad){var ac=ad.nodeName.toLowerCase();return(ac==="input"&&!({submit:1,button:1,reset:1,image:1})[ad.type]||ac==="select"||ac==="textarea")&&ad.disabled===false&&r(ad,m)===null};function p(ad,ac){var ae=this;if(!ae instanceof p){return new p(ad,ac)}ae.$el=E(ad);ae._init(ad,ac)}p.prototype={_init:function(af,ac){var ag=this,ae,ah,ai;if(s(ac)){ac={valid:ac}}ac=ac||{};ai=r(af,"data-"+J+"-option");ai=ai&&ai.charAt(0)==="{"?(new Function("return "+ai))():{};ah=d[ac.theme||ai.theme||G.theme];ae=ag.options=E.extend({},G,ah,ai,ag.options,ac);ag.rules=new X(ae.rules,true);ag.messages=new S(ae.messages,true);ag.elements=ag.elements||{};ag.deferred={};ag.errors={};ag.fields={};ag._initFields(ae.fields);if(y(ae.groups)){E.map(ae.groups,function(aj){if(!l(aj.fields)||!s(aj.callback)){return null}aj.$elems=ag.$el.find(B(aj.fields));E.map(aj.fields.split(" "),function(ak){ag.fields[ak]=ag.fields[ak]||{};ag.fields[ak].group=aj})})}ag.msgOpt={type:"error",pos:w(ae.msgClass),wrapper:ae.msgWrapper,cls:ae.msgClass,style:ae.msgStyle,icon:ae.msgIcon,arrow:ae.msgArrow,show:ae.msgShow,hide:ae.msgHide};ag.isAjaxSubmit=false;if(ae.valid||r(af,"action")===null){ag.isAjaxSubmit=true}else{var ad=E[E._data?"_data":"data"](af,"events");if(ad&&ad.valid&&E.map(ad.valid,function(aj){return aj.namespace.indexOf("form")!==-1?1:null}).length){ag.isAjaxSubmit=true}}if(!ag.$el.data(J)){ag.$el.data(J,ag).addClass(P+" "+ae.formClass).on("submit"+z+" validate"+z,R(ag,"_submit")).on("reset"+z,R(ag,"_reset")).on("showtip"+z,R(ag,"_showTip")).on("validated"+F+z,k,R(ag,"_validatedField")).on("validated"+j+z,k,R(ag,"_validatedRule")).on("focusin"+z+" click"+z+" showtip"+z,k,R(ag,"_focusin")).on("focusout"+z+" validate"+z,k,R(ag,"_focusout")).on("click"+z,":radio,:checkbox",R(ag,"_click"));if(ae.timely>=2){ag.$el.on("keyup"+z+" paste"+z,k,R(ag,"_focusout")).on("change"+z,"select",R(ag,"_click"))}ag._novalidate=r(af,m);r(af,m,m)}},_initFields:function(ac){var ad=this;if(M(ac)){E.each(ac,function(af,ae){if(ae===null){var ag=ad.elements[af];if(ag){ad._resetElement(ag,true)}delete ad.fields[af]}else{ad.fields[af]=l(ae)?{rule:ae}:ae}})}ad.$el.find(k).each(function(){ad._parse(this)})},_parse:function(ae){var af=this,ag,ac=ae.name,ad=r(ae,i);ad&&r(ae,i,null);if(ae.id&&("#"+ae.id in af.fields)||!ae.name){ac="#"+ae.id}if(!ac){return}ag=af.fields[ac]||{};ag.key=ac;ag.old={};ag.rule=ag.rule||ad||"";if(!ag.rule){return}if(ag.rule.match(/match|checked/)){ag.must=true}if(ag.rule.indexOf("required")!==-1){ag.required=true;r(ae,aa,true)}if("timely" in ag&&!ag.timely||!af.options.timely){r(ae,"notimely",true)}if(l(ag.target)){r(ae,V,ag.target)}if(l(ag.tip)){r(ae,I,ag.tip)}af.fields[ac]=af._parseRule(ag)},_parseRule:function(ad){var ac=u.exec(ad.rule);if(!ac){return}ad._v=0;if(ac[1]){ad.display=ac[1]}if(ac[2]){ad.rules=[];ac[2].replace(N,function(){var ae=arguments;ae[3]=ae[3]||ae[4];ad.rules.push({not:ae[1]==="!",method:ae[2],params:ae[3]?ae[3].split(", "):n,or:ae[5]==="|"})})}return ad},_multiValidate:function(ae,ac){var af=this,ad=af.options;af._multiValid=true;if(ad.ignore){ae=ae.not(ad.ignore)}ae.each(function(ag,ah){var ai=af.getField(ah);if(ai){af._validate(ah,ai);if(!af._multiValid&&ad.stopOnError){return false}}});E.when.apply(null,E.map(af.deferred,function(ag){return ag})).done(function(){ac.call(af,af._multiValid)});return !E.isEmptyObject(af.deferred)?n:af._multiValid},_submit:function(af){var ae=this,ac=ae.options,ad=af.target,ag=af.type==="submit";af.preventDefault();if(U&&(U=false)||ae.submiting||af.type==="validate"&&ae.$el[0]!==ad||ac.beforeSubmit.call(ae,ad)===false){return}ac.debug&&x.log("\n"+af.type);ae._reset();ae.submiting=true;ae.isValid=n;ae._multiValidate(ae.$el.find(k),function(ai){var ah=(ai||ac.debug===2)?"valid":"invalid",aj;if(!ai){if(ac.focusInvalid){ae.$el.find(":input["+t+'="true"]:first').focus()}aj=E.map(ae.errors,function(ak){return ak})}ae.submiting=false;s(ac[ah])&&ac[ah].call(ae,ad,aj);ae.$el.trigger(ah+T,[ad,aj]);if(ai&&!ae.isAjaxSubmit&&ag){U=true;ad.submit()}})},_reset:function(ad){var ac=this;ac.errors={};if(ad){ac.$el.find(k).each(function(ae,af){ac._resetElement(af)})}},_resetElement:function(ae,ad){var ac=this.options;E(ae).removeClass(ac.validClass+" "+ac.invalidClass);this.hideMsg(ae);if(ad){r(ae,aa,null)}},_focusin:function(af){var ae=this,ac=ae.options,ad=af.target,ag;if(af.type!=="showtip"){if(ae.submiting){return}if(r(ad,H)==="error"){if(ac.focusCleanup){E(ad).removeClass(ac.invalidClass);ae.hideMsg(ad)}}else{if(ad.value!==""){return}}}ag=r(ad,I);if(!ag){return}ae.showMsg(ad,{type:"tip",msg:ag})},_focusout:function(af,ak){var ag=this,ad=ag.options,ai,am,ae=af.target,al=af.type,ac=150;if(!ak&&al!=="paste"){if(al==="validate"){am=true;ac=0}else{if(r(ae,"notimely")){return}else{if(ad.timely>=2&&al!=="keyup"){return}}}if(ad.ignore&&E(ae).is(ad.ignore)){return}if(al==="keyup"){var aj=af.keyCode,ah={8:1,9:1,16:1,32:1,46:1};if(aj===9&&!ae.value){return}if(aj<48&&!ah[aj]){return}ac=ad.timely>=100?ad.timely:500}}ai=ag.getField(ae);if(!ai){return}if(ac){if(ai._t){clearTimeout(ai._t)}ai._t=setTimeout(function(){ag._validate(ae,ai,am)},ac)}else{ag._validate(ae,ai,am)}},_click:function(ac){this._focusout(ac,true)},_showTip:function(ad){var ac=this;if(ac.$el[0]!==ad.target){return}ac.$el.find(k+"["+I+"]").each(function(){ac.showMsg(this,{msg:r(this,I),type:"tip"})})},_validatedField:function(ai,ah,ac){var af=this,ad=af.options,ae=ai.target,ag=ac.isValid=ah.isValid=!!ac.isValid,aj=ag?"valid":"invalid";ac.key=ah.key;ac.rule=ah._r;if(ag){ac.type="ok"}else{if(af.submiting){af.errors[ah.key]=ac.msg}af._multiValid=false}ah.old.value=ae.value;ah.old.id=ae.id;af.elements[ah.key]=ae;af.$el[0].isValid=af.isValid=ag?af.isFormValid():ag;if(af.checkOnly){return}s(ah[aj])&&ah[aj].call(af,ae,ac);E(ae).attr(t,ag?null:true).removeClass(ag?ad.invalidClass:ad.validClass).addClass(!ac.skip?ag?ad.validClass:ad.invalidClass:"").trigger(aj+F,[ac,af]);af.$el.triggerHandler("validation",[ac,af]);if(ah.msgMaker||ad.msgMaker){af[ac.showOk||ac.msg?"showMsg":"hideMsg"](ae,ac,ah)}},_validatedRule:function(ah,am,ai,al){am=am||aj.getField(ae);al=al||{};var aj=this,ad=aj.options,ae=ah.target,af,ak,ac=am._r,ag,an=false;if(ai===null){E(ae).trigger("validated"+F,[am,{isValid:true,skip:true}]);return}else{if(ai===true||ai===n||ai===""){an=true}else{if(l(ai)){af=ai}else{if(M(ai)){if(ai.error){af=ai.error}else{af=ai.ok;an=true}}}}}if(am.rules){ak=am.rules[am._v];if(ak.not){af=n;an=ac==="required"||!an}if(ak.or){if(an){while(am._v<am.rules.length&&am.rules[am._v].or){am._v++}}else{ag=true}}}if(!ag){if(an){al.isValid=an;if(ad.showOk!==false){if(!l(af)){if(l(am.ok)){af=am.ok}else{if(l(r(ae,Q))){af=r(ae,Q)}else{if(l(ad.showOk)){af=ad.showOk}}}}if(l(af)){al.showOk=an;al.msg=af}}E(ae).trigger("valid"+j,[ac,al.msg])}else{al.msg=(o(ae,am,af,aj.messages[ac])||G.defaultMsg).replace("{0}",am.display||"");E(ae).trigger("invalid"+j,[ac,al.msg])}}if(ad.debug){x.log("   "+am._v+": "+ac+" => "+(an||al.msg||an))}if(ag||an&&am._v<am.rules.length-1){am._v++;aj._checkRule(ae,am)}else{am._v=0;E(ae).trigger("validated"+F,[am,al])}},_checkRule:function(ad,aj){var ah=this,ag,ae,ak=aj.key,ai=aj.rules[aj._v],ac=ai.method,af=ai.params;if(ah.submiting&&ah.deferred[ak]){return}ae=aj.old;aj._r=ac;if(!aj.must&&ae.ret!==n&&ae.rule===ai&&ae.id===ad.id&&ad.value&&ae.value===ad.value){ag=ae.ret}else{ag=(c(ad,ac)||ah.rules[ac]||W).call(ah,ad,af,aj)}if(M(ag)&&s(ag.then)){ah.deferred[ak]=ag;!ah.checkOnly&&ah.showMsg(ad,{type:"loading",msg:ah.options.loadingMsg},aj);ag.then(function(ap,aq,am){var ao=am.responseText,al,an=aj.dataFilter||ah.options.dataFilter;if(this.dataType==="json"){ao=ap}else{if(ao.charAt(0)==="{"){ao=E.parseJSON(ao)||{}}}if(!s(an)){an=function(ar){if(l(ar)||(M(ar)&&("error" in ar||"ok" in ar))){return ar}}}al=an(ao);if(al===n){al=an(ao.data)}ae.rule=ai;
ae.ret=al;E(ad).trigger("validated"+j,[aj,al])},function(al,am){E(ad).trigger("validated"+j,[aj,am])}).always(function(){delete ah.deferred[ak]});aj.isValid=n}else{E(ad).trigger("validated"+j,[aj,ag])}},_validate:function(ae,ai){if(ae.disabled||r(ae,m)!==null){return}var af=this,ad=E(ae),aj={},ah=ai.group,ac,ag=ai.isValid=true;if(!ai.rules){af._parse(ae)}if(af.options.debug){x.info(ai.key)}if(ah){ac=ah.callback.call(af,ah.$elems);if(ac!==n){af.hideMsg(ah.target,{},ai);if(ac===true){ac=n}else{ai._v=0;ai._r="group";ag=false;af.hideMsg(ae,{},ai);E.extend(aj,ah)}}}if(ag&&!ai.required&&!ai.must&&!ae.value){if(r(ae,H)==="tip"){return}if(!A(ae)){ad.trigger("validated"+F,[ai,{isValid:true}]);return}}if(ac!==n){ad.trigger("validated"+j,[ai,ac,aj])}else{if(ai.rule){af._checkRule(ae,ai)}}},test:function(ad,ag){var ae=this,ac,af=C.exec(ag),ai,ah;if(af){ai=af[1];if(ai in ae.rules){ah=af[2]||af[3];ah=ah?ah.split(", "):n;ac=ae.rules[ai].call(ae,ad,ah)}}return ac===true||ac===n||ac===null},getRangeMsg:function(al,ae,ai,am){if(!ae){return}var ah=this,ad=ah.messages[ai]||"",ac=ae[0].split("~"),ak=ac[0],aj=ac[1],ag="rg",af=[""],an=+al===+al;if(ac.length===2){if(ak&&aj){if(an&&al>=+ak&&al<=+aj){return true}af=af.concat(ac)}else{if(ak&&!aj){if(an&&al>=+ak){return true}af.push(ak);ag="gt"}else{if(!ak&&aj){if(an&&al<=+aj){return true}af.push(aj);ag="lt"}}}}else{if(al===+ak){return true}af.push(ak);ag="eq"}if(ad){if(am&&ad[ag+am]){ag+=am}af[0]=ad[ag]}return ah.renderMsg.apply(null,af)},renderMsg:function(){var ad=arguments,ac=ad[0],ae=ad.length;if(!ac){return}while(--ae){ac=ac.replace("{"+ae+"}",ad[ae])}return ac},_getMsgOpt:function(ac){return E.extend({},this.msgOpt,l(ac)?{msg:ac}:ac)},_getMsgDOM:function(af,ad){var ac=E(af),ah,ae,ai;if(ac.is(":input")){ai=ad.target||r(af,V);if(ai){ai=this.$el.find(ai);if(ai.length){if(ai.is(":input")){af=ai.get(0)}else{ah=ai}}}if(!ah){ae=!A(af)&&af.id?af.id:af.name;ah=this.$el.find(ad.wrapper+"."+g+'[for="'+ae+'"]')}}else{ah=ac}if(!ah.length){ac=this.$el.find(ai||af);ah=E("<"+ad.wrapper+">").attr({"class":g+(ad.cls?" "+ad.cls:""),"style":ad.style||"","for":ae});if(A(af)){var ag=ac.parent();ah.appendTo(ag.is("label")?ag.parent():ag)}else{ah[!ad.pos||ad.pos==="right"?"insertAfter":"insertBefore"](ac)}}return ah},showMsg:function(ae,ad,ah){var af=this;ad=af._getMsgOpt(ad);if(!ad.msg&&!ad.showOk){return}ae=E(ae).get(0);if(E(ae).is(k)){r(ae,H,ad.type);ah=ah||af.getField(ae);if(ah){ad.style=ah.msgStyle||ad.style;ad.cls=ah.msgClass||ad.cls;ad.wrapper=ah.msgWrapper||ad.wrapper}}var ag=af._getMsgDOM(ae,ad),ac=ag[0].className;!h.test(ac)&&ag.addClass(ad.cls);if(Z&&ad.pos==="bottom"){ag[0].style.marginTop=E(ae).outerHeight()+"px"}ag.html(((ah||{}).msgMaker||af.options.msgMaker).call(af,ad));ag[0].style.display="";s(ad.show)&&ad.show.call(af,ag,ad.type)},hideMsg:function(ad,ac,ag){var ae=this;ad=E(ad).get(0);ac=ae._getMsgOpt(ac);if(E(ad).is(k)){r(ad,H,null);r(ad,t,null);ag=ag||ae.getField(ad);if(ag){ac.wrapper=ag.msgWrapper||ac.wrapper}}var af=ae._getMsgDOM(ad,ac);if(!af.length){return}if(s(ac.hide)){ac.hide.call(ae,af,ac.type)}else{af[0].style.display="none"}},mapMsg:function(ad){var ac=this;E.each(ad,function(ae,ag){var af=ac.elements[ae]||ac.$el.find(':input[name="'+ae+'"]')[0];ac.showMsg(af,ag)})},setMsg:function(ac){new S(ac,this.messages)},setRule:function(ac){new X(ac,this.rules);E.map(this.fields,function(ad){ad.old={}})},getField:function(ad){var ae=this,ac;if(ad.id&&"#"+ad.id in ae.fields||!ad.name){ac="#"+ad.id}else{ac=ad.name}if(r(ad,i)){ae._parse(ad)}return ae.fields[ac]},setField:function(ad,ae){var ac={};if(l(ad)){ac[ad]=ae}else{if(M(ad)){ac=ad}}this._initFields(ac)},isFormValid:function(){var ac=this.fields;for(var ad in ac){if(!ac[ad].isValid){return ac[ad].isValid}}return true},holdSubmit:function(ac){this.submiting=ac===n||ac},cleanUp:function(){this._reset(1)},destroy:function(){this._reset(1);this.$el.off(z).removeData(J);r(this.$el[0],m,this._novalidate)}};function X(af,ad){var ae=ad?ad===true?this:ad:X.prototype;if(!M(af)){return}for(var ac in af){ae[ac]=v(af[ac])}}function S(af,ad){var ae=ad?ad===true?this:ad:S.prototype;if(!M(af)){return}for(var ac in af){if(!af[ac]){return}ae[ac]=af[ac]}}function v(ac){switch(E.type(ac)){case"function":return ac;case"array":return function(ad){return ac[0].test(ad.value)||ac[1]||false};case"regexp":return function(ad){return ac.test(ad.value)}}}function B(ad){var ac="";E.map(ad.split(" "),function(ae){ac+=","+(ae.charAt(0)==="#"?ae:'[name="'+ae+'"]')});return ac.substring(1)}function L(ad){var ac;if(!ad||!ad.tagName){return}switch(ad.tagName){case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":case"FIELDSET":ac=ad.form||E(ad).closest("."+P);break;case"FORM":ac=ad;break;default:ac=E(ad).closest("."+P)}return E(ac).data(J)||E(ac)[J]().data(J)}function Y(ae){var ac=ae.currentTarget,ad;if(!ac.form||r(ac.form,m)!==null){return}ad=L(ac);if(ad){ad._parse(ac);ad["_"+ae.type](ae)}else{r(ac,i,null)}}function c(ad,ae){var ac=E.trim(r(ad,i+"-"+ae));if(!ac){return}ac=(new Function("return "+ac))();if(ac){return v(ac)}}function o(ae,ag,ad,ac){var ah=ag.msg,af=ag._r;if(M(ah)){ah=ah[af]}if(!l(ah)){ah=r(ae,q+"-"+af)||r(ae,q)||ad||(ac?l(ac)?ac:ac[af]:"")}return ah}function w(ac){var ad;if(ac){ad=h.exec(ac)}return ad?ad[1]:""}function A(ac){return ac.tagName==="INPUT"&&ac.type==="checkbox"||ac.type==="radio"}function f(ac){return Date.parse(ac.replace(/\.|\-/g,"/"))}E(document).on("focusin",":input["+i+"]",function(ac){Y(ac)}).on("click","input,button",function(ae){var ac=this;if(!ac.form){return}if(ac.type==="submit"){if(r(ac,m)!==null){U=true}}else{if(ac.name&&A(ac)){var ad=ac.form.elements[ac.name];if(ad.length){ad=ad[0]}if(r(ad,i)){Y(ae)}}}}).on("submit validate","form",function(ae){if(r(this,m)!==null){return}var ac=E(this),ad;if(!ac.data(J)){ad=ac[J]().data(J);if(!E.isEmptyObject(ad.fields)){ad._submit(ae)}else{r(this,m,m);ac.off(z).removeData(J)}}});new X({required:function(ac,af){var ae=E.trim(ac.value),ad=true;if(af){if(af.length===1){if(!ae&&!this.test(ac,af[0])){r(ac,aa,null);return null}else{r(ac,aa,true)}}else{if(af[0]==="not"){E.map(af.slice(1),function(ag){if(ae===E.trim(ag)){ad=false}})}}}return ad&&!!ae},integer:function(ad,ah){var ae,ag="0|",af="[1-9]\\d*",ac=ah?ah[0]:"*";switch(ac){case"+":ae=af;break;case"-":ae="-"+af;break;case"+0":ae=ag+af;break;case"-0":ae=ag+"-"+af;break;default:ae=ag+"-?"+af}ae="^(?:"+ae+")$";return new RegExp(ae).test(ad.value)||this.messages.integer[ac]},doubleStyle:function(ad,ah){var ae,ag="0|",af="[0-9]\\d*\\.{1}\\d*|[1-9]\\d*",ac=ah?ah[0]:"*";switch(ac){case"+":ae=af;break;case"-":ae="-"+af;break;case"+0":ae=ag+af;break;case"-0":ae=ag+"-"+af;break;default:ae=af}ae="^("+ae+")$";return new RegExp(ae).test(ad.value)||this.messages.doubleStyle[ac]},match:function(af,ae,ak){if(!ae){return}var ai=this,al,aj,am,ac,ah="eq",ag,an,ad;if(ae.length===1){am=ae[0]}else{ah=ae[0];am=ae[1]}ag=am.charAt(0)==="#"?am:':input[name="'+am+'"]';an=ai.$el.find(ag)[0];if(!an){return}ad=ai.getField(an);al=af.value;aj=an.value;if(!ak._match){ai.$el.on("valid"+F+z,ag,function(){E(af).trigger("validate")});ak._match=ad._match=1}if(!ak.required&&al===""&&aj===""){return null}if(ae[2]){if(ae[2]==="date"){al=f(al);aj=f(aj)}else{if(ae[2]==="time"){al=+al.replace(":","");aj=+aj.replace(":","")}}}if(ah!=="eq"&&!isNaN(+al)&&isNaN(+aj)){return true}ac=ai.messages.match[ah].replace("{1}",ad.display||am);switch(ah){case"lt":return(+al<+aj)||ac;case"lte":return(+al<=+aj)||ac;case"gte":return(+al>=+aj)||ac;case"gt":return(+al>+aj)||ac;case"neq":return(al!==aj)||ac;default:return(al===aj)||ac}},range:function(ac,ad){return this.getRangeMsg(+ac.value,ad,"range")},checked:function(ac,ag){if(!A(ac)){return}var af=this,ae,ad;ad=af.$el.find('input[name="'+ac.name+'"]').filter(function(){var ah=this;if(!ae&&A(ah)){ae=ah}return !ah.disabled&&ah.checked&&E(ah).is(":visible")}).length;if(ag){return af.getRangeMsg(ad,ag,"checked")}else{return !!ad||af.messages.required}},length:function(ad,af){if(!af){return}var ae=ad.value,ac=(af[1]?ae.replace(e,"xx"):ae).length;if(af[0].charAt(0)==="~"){af[0]="0"+af[0]}return this.getRangeMsg(ac,af,"length",(af[1]?"_2":""))},remote:function(af,aj){if(!aj){return}var ah=this,ac=ab.exec(aj[0]),ad=ac[2],ag=(ac[1]||"POST").toUpperCase(),ae,ai={};ai[af.name]=af.value;if(aj[1]){E.map(aj.slice(1),function(ak){ai[E.trim(ak)]=ah.$el.find(':input[name="'+ak+'"]').val()})}ai=E.param(ai);if(ag==="POST"){ae=ad.indexOf("?");if(ae!==-1){ai+="&"+ad.substring(ae+1,ad.length);ad=ad.substring(0,ae)}}return E.ajax({url:ad,type:ag,data:ai,cache:false})},filter:function(ac,ad){ac.value=ac.value.replace(ad?(new RegExp("["+ad[0]+"]","gm")):K,"")}});p.config=function(ac){E.each(ac,function(ad,ae){if(ad==="rules"){new X(ae)}else{if(ad==="messages"){new S(ae)}else{G[ad]=ae}}})};p.setTheme=function(ac,ad){if(M(ac)){E.each(ac,function(ae,af){d[ae]=af})}else{if(l(ac)&&M(ad)){d[ac]=ad}}};E[J]=p})(jQuery);